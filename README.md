# КВ_3 Координаты объекта на дереве иерархии
Во многих современных системах физически реализованы возможности трансформации взаимосвязи элементов. Эта трансформация может происходить до, в процессе или после завершения решения определенной задачи системой. Аналогичным свойством должен обладать моделирующий систему виртуальный аналог.

С одной троны ограничение иметь уникальные имена для всех объектов не практична и не всегда удобна. С другой стороны, задача поиска объекта на дереве иерархии, важна, практична и востребована. Если снять ограничение уникальности имен объектов на дереве иерархии, то уникальным идентификатором, который можно поставить в соответствии объекту это, координата на дерево иерархии.

Третья версия курсовой работы расширяет функциональные возможности базового класса для реализации вышеотмеченного.

## Постановка задачи
Иметь возможность доступа из текущего объекта к любому объекту системы, «мечта» разработчика программы.

Расширить функциональность базового класса:
+ метод переопределения головного объекта для текущего в дереве иерархии. Метод должен иметь один параметр, указатель на объект базового класса, содержащий указатель на новый головной объект. Переопределение головного объект для корневого объекта недопустимо. Недопустимо создать второй корневой объект. Недопустимо при переопределении, чтобы у нового головного появились два подчиненных объекта с одинаковым наименованием. Новый головной объект не должен принадлежать к объектам из ветки текущего. Если переопределение выполнено, метод возвращает значение «истина», иначе «ложь»;
+ метод удаления подчиненного объекта по наименованию. Если объект не найден, то метод завершает работу. Один параметр строкового типа, содержит наименование удаляемого подчиненного объекта;
+ метод получения указателя на любой объект в составе дерева иерархии объектов согласно пути (координаты). В качестве параметра методу передать путь (координату) объекта. Координата задаться в следующем виде:
  + / - корневой объект;
  + //«имя объекта» - поиск объекта по уникальной имени от корневого (для однозначности уникальность требуется в рамках дерева);
  + . - текущий объект;
  + .«имя объекта» - поиск объекта по уникальной имени от текущего (для однозначности уникальность требуется в рамках ветви дерева от текущего объекта);
  + «имя объекта 1»[/«имя объекта 2»] . . . - относительная координата от текущего объекта, «имя объекта 1» подчиненный текущего;
  + /«имя объекта 1»[/«имя объекта 2»]  . . . - абсолютная координата от корневого объекта.

Примеры координат:
```
/
//ob_3
.
.ob_2
ob_2/ob_3
/ob_1/ob_2/ob_3
```
Если координата - пустая строка или объект не найден или определяется неоднозначно (дубляж имен на ветке, на дереве), тогда вернуть нулевой указатель.

Наименование объекта не содержит символы «.» и «/».

Система содержит объекты пяти классов, не считая корневого. Номера классов: 2, 3, 4, 5, 6.

Состав и иерархия объектов строиться посредством ввода исходных данных.  Ввод организован как в версии № 2 курсовой работы. Единственное различие. В строке ввода первым указано не наименование головного объекта, а абсолютный путь к нему. При построении дерева уникальность наименования относительно множества непосредственно подчиненных объектов для любого головного объекта необходимо соблюдать. Если это требование исходя из входных данных нарушается, то соответствующий подчиненный объект не создается.

Добавить проверку допустимости исходной сборки. Собрать дерево невозможно, если по заданной координате головной объект не найден (например, ошибка в наименовании или еще не расположен на дереве объектов). Если номер класса объекта задан некорректно, то объект не создается.

Собранная система отрабатывает следующие команды:
+ SET «координата» – устанавливает текущий объект;
+ FIND «координата» – находит объект относительно текущего;
+ MOVE «координата» – переопределить головной для текущего объекта, «координата» задает новый головной объект;
+ DELETE «наименование объекта» – удалить подчиненный объект у текущего;
+ END – завершает функционирование системы (выполнение программы).

Изначально, корневой объект для системы является текущим. При вводе данных в названии команд ошибок нет. Если при переопределении головного объекта нарушается уникальность наименований подчиненных объектов для нового головного, переопределение не производится.

_При решении задачи необходимо руководствоваться методическим пособием и приложением к методическому пособию_

## Входные данные
Состав и иерархия объектов строиться посредством ввода исходных данных.  Ввод организован как в версии № 2 курсовой работы. Единственное различие. В строке ввода первым указано не наименование головного объекта, а абсолютный путь к нему.

После ввода состава дерева иерархии построчно вводятся команды:
+ SET координата – установить текущий объект;
+ FIND координата – найти объект относительно текущего;
+ MOVE координата – переопределить головной для текущего объекта, координата соответствует новому головному объекту;
+ DELETE наименование объекта – удалить подчиненный объект у текущего;
+ END – завершить функционирование системы (выполнение программы).

Команды SET, FIND,  MOVE и DELETE вводятся произвольное число раз.

Команда END присутствует обязательно.

Пример ввода иерархии дерева объектов:
```
rootela
/ object_1 3
/ object_2 2
/object_2 object_4 3
/object_2 object_5 4
/ object_3 3
/object_2 object_3 6
/object_1 object_7 5
/object_2/object_4 object_7 3
endtree
FIND object_2/object_4
SET /object_2
FIND //object_7
FIND object_4/object_7
FIND .
FIND .object_7
FIND object_4/object_7
MOVE .object_7
SET object_4/object_7
MOVE //object_1
MOVE /object_3
END
```

Выходные данные
> Object tree

Со второй строки вывести иерархию построенного дерева как в работе версия №2.

При ошибке определения головного объекта, прекратить сборку, вывести иерархию уже построенного фрагмента дерева, со следующей строки сообщение:
> The head object «координата головного объекта» is not found

и прекратить работу программы с кодом возврата 1.

Если при построении при попытке создания объекта обнаружен дубляж, то вывести:
> «координата головного объекта»     Dubbing the names of subordinate objects

Если дерево построено, то далее построчно вводятся команды.

Для команд SET если объект найден, то вывести:
> Object is set: «имя объекта»

в противном случае:
> The object was not found at the specified coordinate: «искомая координата объекта»

Для команд FIND вывести:
> «искомая координата объекта»     Object name: «наименование объекта»

Если объект не найден, то:
> «искомая координата объекта»     Object is not found

Для команд MOVE вывести:
> New head object: «наименование нового головного объекта»

Если головной объект не найден, то:
> «искомая координата объекта»     Head object is not found

Если переопределить головной объект не удалось, то:
> «искомая координата объекта»     Redefining the head object failed

Если у нового головного объекта уже есть подчиненный с таким же именем, то вывести:
> «искомая координата объекта»     Dubbing the names of subordinate objects

При попытке переподчинения головного объекта к объекту на ветке, вывести:
> «координата нового головного объекта»      Redefining the head object failed

Для команды DELETE:

Если подчиненный объект удален, то вывести:
> The object «абсолютный путь удаленного объекта» has been deleted

Если объект не найден, то ничего не выводить.

После команды END с новой строки вывести:
> Current object hierarchy tree

Со следующей строки вывести текущую иерархию дерева.

Пример вывода иерархии дерева объектов:
```
Object tree
rootela
    object_1
        object_7
    object_2
        object_4
            object_7
        object_5
        object_3
    object_3
object_2/object_4     Object name: object_4
Object is set: object_2
//object_7     Object is not found
object_4/object_7     Object name: object_7
.     Object name: object_2
.object_7     Object name: object_7
object_4/object_7     Object name: object_7
.object_7     Redefining the head object failed
Object is set: object_7
//object_1     Dubbing the names of subordinate objects
New head object: object_3
Current object hierarchy tree
rootela
    object_1
        object_7
    object_2
        object_4
        object_5
        object_3
    object_3
        object_7
```
---
### Автор - https://vk.com/aptekkkar / https://t.me/glaucine 
   + Прямой путь по ID: https://vk.com/id169607065
